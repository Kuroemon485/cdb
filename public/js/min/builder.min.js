!function(a,t,e){var i=(a("#pkm-pkdx_id"),a("input#is-shiny")),s=a(".data-modal"),r=a('[data-toggle="modal"]'),n="pkm-1",o=a("#data-container"),c="",l=(a('#data-container [data-toggle="fill-data"]'),a(".modal-title"));team=new Object;var p=function(t){return a.ajax({url:base_url+"teambuilder/get_species_info",type:"post",dataType:"json",data:{species_id:t}})},d=function(){return a(".tab-pane.active").attr("data-tab-number")},m=function(){return a('[data-tab-number="'+d()+'"]').find("select.pkm-list").val()},u=function(t,e){var i=0,s=a("#pkm-"+t);a.each(stats,function(r,n){a("#p"+t+"-base-"+n,s).removeClass(),a("#p"+t+"-base-"+n+"-bar",s).removeClass();var o=1*e["base_"+n],c="",l="badge bg-",p="progress-bar progress-bar-";i+=o,90>o?c="yellow":o>=90&&110>=o?c="green":o>110&&150>o?c="blue":o>=150&&(c="red"),l+=c,p+=c,a("#p"+t+"-base-"+n,s).text(o).addClass(l),a("#p"+t+"-base-"+n+"-bar",s).css("width",o/250*100+"%").addClass(p)}),a("#p"+t+"-tbs",s).text(i)},g=function(a){l.empty().append(a)},b=function(t,e){return a.ajax({url:base_url+"common/get_modal_data",type:"post",dataType:"json",async:!1,data:{id:t,data_type:e}})};a(function(){localStorage.getItem("teamdata")&&console.log(process_team_str(localStorage.getItem("teamdata"))),a(".selectpicker").selectpicker({style:"btn-sm btn-primary",size:8}),o.slimscroll({height:"450px",alwaysVisible:!1,wheelStep:1,size:"3px"}),a(".form-control","#"+n).on("change",function(){a(this)}),r.on("focus",function(){s_id=m(),property=a(this).attr("data-input"),c=a(this),""!=s_id&&(b(s_id,property).success(function(a){o.empty().append(a.html),g(a.title)}),s.modal("show"))}),a(e).on("click",'[data-toggle="fill-data"]',function(){var t=a(this).attr("data-name");c.val(t).trigger("change"),s.modal("hide")}),a(".pkm-list").on("change",function(){var t=a(".tab-pane.active").attr("data-tab-number"),e=a(this),i=a("option:selected",e).text(),s=e.val();p(s).success(function(a){u(t,a)}),""!=e.val()?(a("#p"+t+"-img").attr("src",base_url+"public/images/f-sprite/"+i+".gif"),a("#p"+t+"-ico").attr("src",base_url+"public/images/minisprites/"+i+".png")):(a("#p"+t+"-img").attr("src",base_url+"public/images/f-sprite/egg.png"),a("#p"+t+"-ico").attr("src",base_url+"public/images/minisprites/ani-egg.png"))}),a("#ie-button").on("click",function(){a(".ie-modal textarea").val(""),a(".ie-modal").modal("show")}),a("#import-btn").on("click",function(){rawdata=a(".ie-modal textarea").val(),""!=rawdata&&(localStorage.setItem("teamdata",rawdata),console.log(process_team_str(rawdata)),a(".ie-modal").modal("hide"))}),i.on("ifChecked",function(){var t=a(this).attr("data-species");""!=t&&a(".pkm-sprite").attr("src",base_url+"public/images/f-sprite-shiny/"+t+".gif")}),i.on("ifUnchecked",function(){var t=a(this).attr("data-species");""!=t&&a(".pkm-sprite").attr("src",base_url+"public/images/f-sprite/"+t+".gif")})})}(window.jQuery,window,document);